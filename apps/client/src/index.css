@import "tailwindcss";

@theme {
  --color-tg-blue: #0A84FF;
  --color-tg-green: #34C759;
  --color-tg-red: #FF3B30;
  --color-tg-bg: var(--tg-theme-bg-color);

  --blur-xs: 2px;
  
  /* App-specific colors - Design System */
  --color-app-primary: #3289ec;
  --color-app-primary-glow: rgba(50, 137, 236, 0.5);
  
  --color-app-success: #0bda5e;
  --color-app-success-bg: rgba(11, 218, 94, 0.1);
  --color-app-success-glow: rgba(11, 218, 94, 0.5);
  
  --color-app-danger: #ff4b4b;
  --color-app-danger-bg: rgba(255, 75, 75, 0.1);
  --color-app-danger-glow: rgba(255, 75, 75, 0.5);
  
  --color-app-card-bg: #1c2631;
  --color-app-surface-bg: #161C26;
  --color-app-border: rgba(255, 255, 255, 0.08);
  --color-app-glass-bg: rgba(255, 255, 255, 0.03);
  --color-app-glass-border: rgba(255, 255, 255, 0.1);
  
  --color-app-gold: #FACC15;
  --color-app-silver: #94A3B8;
  --color-app-bronze: #A8A29E;
}

/* Telegram Theme Variables */
:root {
  /* Telegram theme colors */
  --tg-theme-bg-color: #0b0e11;
  --tg-theme-secondary-bg-color: #0B0E11;
  --tg-theme-text-color: #ffffff;
  --tg-theme-hint-color: #64748b;
  --tg-theme-link-color: #3289ec;
  --tg-theme-button-color: #3289ec;
  --tg-theme-button-text-color: #ffffff;
  --tg-theme-header-bg-color: #0b0e11;
  --tg-theme-accent-text-color: #3289ec;
  --tg-theme-section-bg-color: #0b0e11;
  --tg-theme-section-header-text-color: #64748b;
  --tg-theme-subtitle-text-color: #64748b;
  --tg-theme-destructive-text-color: #ff4b4b;
}

* {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

html {
  scroll-behavior: smooth;
}

body {
  background: var(--tg-theme-bg-color, #0b0e11);
  color: var(--tg-theme-text-color, #ffffff);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  min-height: 100vh;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 0;
  height: 0;
}

/* Hide scrollbar but allow scrolling */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

@layer components {
  /* Nav blur */
  .nav-blur {
    background: rgba(11, 14, 17, 0.95);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border-top: 1px solid var(--app-border);
  }
  
  /* Card Glass Style - Screen 1 */
  .glass-card {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 
      0 8px 32px 0 rgba(0, 0, 0, 0.37);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .glass-card:hover {
    background: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 255, 255, 0.15);
    transform: translateY(-2px);
  }
  
  /* Header blur */
  .header-blur {
    background: rgba(11, 14, 17, 0.95);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border-bottom: 1px solid var(--app-border);
  }

  /* Flat Panel - Screen 2 */
  .flat-panel {
    background: rgba(28, 38, 49, 0.8);
    border: 1px solid var(--app-border);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  /* Flat Card - Screen 3 & 4 */
  .flat-card {
    background: var(--app-surface-bg);
    border: 1px solid var(--app-border);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  }
  
  /* Button Styles */
  .btn-yes {
    @apply flex items-center justify-between px-4 py-3 rounded-xl font-bold transition-all duration-200;
    background: var(--app-success-bg);
    color: var(--app-success);
    border: 1px solid rgba(11, 218, 94, 0.15);
  }
  
  .btn-yes:hover:not(:disabled) {
    background: rgba(11, 218, 94, 0.25);
    border-color: rgba(11, 218, 94, 0.3);
    transform: scale(1.02);
  }
  
  .btn-yes:active:not(:disabled) {
    transform: scale(0.98);
    opacity: 0.8;
  }
  
  .btn-no {
    @apply flex items-center justify-between px-4 py-3 rounded-xl font-bold transition-all duration-200;
    background: var(--app-danger-bg);
    color: var(--app-danger);
    border: 1px solid rgba(255, 75, 75, 0.15);
  }
  
  .btn-no:hover:not(:disabled) {
    background: rgba(255, 75, 75, 0.25);
    border-color: rgba(255, 75, 75, 0.3);
    transform: scale(1.02);
  }
  
  .btn-no:active:not(:disabled) {
    transform: scale(0.98);
    opacity: 0.8;
  }
  
  /* Section Header */
  .section-header {
    @apply text-[13px] font-semibold uppercase tracking-wider;
    color: var(--tg-theme-section-header-text-color, #7a8b99);
  }
}

/* Gradient Backgrounds */
.gradient-bg {
  background: 
    radial-gradient(ellipse 80% 50% at 20% -10%, rgba(51, 144, 236, 0.15), transparent),
    radial-gradient(ellipse 60% 40% at 80% 10%, rgba(52, 199, 89, 0.1), transparent),
    radial-gradient(ellipse 50% 30% at 60% 90%, rgba(255, 59, 48, 0.08), transparent);
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

/* Market Progress Bar */
.market-progress {
  height: 4px;
  border-radius: 2px;
  background: rgba(255, 255, 255, 0.1);
  overflow: hidden;
}

.market-progress-fill {
  height: 100%;
  border-radius: 2px;
  background: linear-gradient(90deg, var(--app-yes), rgba(52, 199, 89, 0.6));
  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Skeleton Loading */
@keyframes skeleton {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.03) 25%,
    rgba(255, 255, 255, 0.08) 50%,
    rgba(255, 255, 255, 0.03) 75%
  );
  background-size: 200% 100%;
  animation: skeleton 1.5s ease-in-out infinite;
  border-radius: 8px;
}

/* Price Change Animation */
@keyframes priceUp {
  0% { color: var(--app-yes); }
  100% { color: inherit; }
}

@keyframes priceDown {
  0% { color: var(--app-no); }
  100% { color: inherit; }
}

.price-up {
  animation: priceUp 1s ease-out;
}

.price-down {
  animation: priceDown 1s ease-out;
}

/* Focus visible for accessibility */
button:focus-visible,
a:focus-visible {
  outline: 2px solid var(--tg-theme-link-color, #3390ec);
  outline-offset: 2px;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Safe area support */
@supports (padding-top: env(safe-area-inset-top)) {
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pb-safe {
    padding-bottom: max(16px, env(safe-area-inset-bottom));
  }
}

/* Line clamp utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Tabular nums for numbers */
.tabular-nums {
  font-variant-numeric: tabular-nums;
}
